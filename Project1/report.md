# Project1 实验报告
###### 151220136-许卓尔，151220168-赵文昊

## 实现功能
1. **识别词法错误（错误类型A）**：即出现C--词法中未定义的字符以及任何不符合C--词法单元定义的字符；
 

2. **识别语法错误（错误类型B）**

3. **附加要求**

    a. 识别八进制数和十六进制数；

    b. 识别指数形式的浮点数；

    c. 识别“//”和“/*…*/”形式的注释；


## 实现方法

#### 识别词法错误（错误类型A）

- C语言词法：编写正则表达式进行识别，初始化节点作为其yyval，并返回token;
- 非C语言词法：通过元字符"."匹配，设置errorLexFlag，并输出词法错误信息；

#### 识别语法错误（错误类型B）

- 正确语法：利用附录A中C语言文法进行文法定义，利用Bison中内容、位置信息，创建语法树节点，并将推导出的符号作为子节点插入；
- 错误语法：利用Bison的错误恢复机制，在产生式的高层增加error符号和错误恢复同步符号，书写error产生式检查语法错误，具体信实现可见syntax.y；

#### 附加要求

##### 识别八进制数和十六进制数

- 对于正确的八进制、十六进制数，编写正则表达式，并作为INT类型初始化节点；
- 对于非法的八进制、十六进制数，同样编写正则表达式OCT_ERROR、HEX_ERROR，action中设置errorLexFlag，并输出词法错误信息："非法的八进制、十六进制数"；

##### 识别指数形式的浮点数

- 对于正确的指数浮点数，编写正则表达式，并作为FLOAT类型初始化节点；
- 对于非法的指数浮点数，同样编写正则表达式SFLOAT_ERROR，action中设置errorLexFlag，并输出词法错误信息："非法的指数浮点数"；

##### 识别“//”和“/*…*/”形式的注释

在lexical.l中定义C type、C++ type的注释规则，添加响应的响应函数，即什么都不做；

## 编译介绍

##### Makefile文件

make parser | make
> 对词法分析器、语法分析器进行编译并生成相应的parser程序；

make lexical
> 单独编译词法分析器；

make syntax
> 单独编译语法分析器；

make clean
> 对生成文件进行清理；

./parser ./pretest/1.txt
> 对当前路径下pretest文件夹中的1.txt文件进行词法分析、语法分析；
